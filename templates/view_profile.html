<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å®šå‘è¡Œå‹•è€å¸«è¯çµ¡è³‡è¨Š</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='img/omtw.ico') }}" type="image/x-icon">
  <style>
    .modal {
      display: block; /* è‹¥åµŒå…¥ map.html å¯è¨­ç‚º noneï¼Œå†ç”± JS æ§åˆ¶é–‹é—œ */
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 2rem;
      border: 1px solid #888;
      width: 90%;
      max-width: 600px;
      border-radius: 10px;
      position: relative;
    }

    .close-btn {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close-btn:hover {
      color: black;
    }

    .modal-footer {
      text-align: center;
      margin-top: 2rem;
    }

    .btn-back {
      padding: 0.5rem 1.5rem;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
    }

    .btn-back:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

<div id="profileModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="window.close()">&times;</span>

    <h2>{{ profile.display_name }}</h2>

    <h3>ğŸ“‡ è¯çµ¡èˆ‡æ•™å­¸è³‡è¨Š</h3>

    <p><strong>æœå‹™åœ°å€ï¼š</strong>{{ profile.service_area }}</p>
    <p><strong>çµè¨“å¹´ä»½ï¼š</strong>{{ profile.certification_year }}</p>
    <p><strong>çµè¨“è­‰è™Ÿï¼š</strong>{{ profile.certification_number }}</p>
    <p><strong>åœ‹å®¶è­‰è™Ÿï¼š</strong>{{ profile.license_number or 'ï¼ˆæœªæä¾›ï¼‰' }}</p>
    <p><strong>å…¼å…·ç”Ÿæ´»æŠ€èƒ½æ•™å­¸è³‡æ ¼ï¼š</strong>{{ 'âœ… å…·å‚™ï¼ˆéœ€é™„è­‰æ˜ï¼‰' if profile.can_teach_online else 'â›” åƒ…æä¾›å®šå‘è¡Œå‹•æ•™å­¸' }}</p>
    <p><strong>å¯æ•™å­¸æ™‚æ®µï¼š</strong>
      {{ profile.available_times | replace('weekday_day', 'å¹³æ—¥ç™½å¤©')
                                 | replace('weekday_night', 'å¹³æ—¥æ™šä¸Š')
                                 | replace('weekend_day', 'é€±æœ«ç™½å¤©')
                                 | replace('weekend_night', 'é€±æœ«æ™šä¸Š')
                                 | replace(',', 'ã€') }}
    </p>

    <p><strong>äº¤é€šæ–¹å¼ï¼š</strong>{{
      profile.transport_modes
      | replace('public', 'å¤§çœ¾é‹è¼¸')
      | replace('scooter', 'æ©Ÿè»Š')
      | replace('car', 'é–‹è»Š')
      | replace(',', 'ã€')
    }}</p>

<p><strong>æ•™å­¸ç¶“é©—ï¼š</strong>
  {{
    (profile.teaching_experience or 'ï¼ˆæœªæä¾›ï¼‰')
    | replace('visually_impaired', 'å–®ç´”è¦–éšœ')
    | replace('multi_disabilities', 'è¦–å¤šéšœ')
    | replace('preschool', 'å­¸é½¡å‰')
    | replace('students', 'å­¸ç”Ÿ')
    | replace('adults', 'æˆäºº')
    | replace('seniors', 'é«˜é½¡è€…')
    | replace(',', 'ã€')
  }}
</p>

    <p><strong>èªè¨€èƒ½åŠ›ï¼š</strong>
      {{ profile.lang_skills | replace('mandarin', 'è¯èª')
                             | replace('taiwanese', 'å°èª')
                             | replace('english', 'è‹±èª')
                             | replace('hakka', 'å®¢èª')
                             | replace('other', 'å…¶ä»–')
                             | replace(',', 'ã€') }}
    </p>
    <p><strong>ç°¡ä»‹ï¼š</strong>{{ profile.intro | replace('\n', '<br>') | safe }}</p>

      {% if show_contact_button %}
      <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ url_for('contact_teacher', teacher_id=profile.id) }}"
           class="btn-contact"
           aria-label="è¯çµ¡é€™ä½è€å¸«">
           ğŸ“© è¯çµ¡è€å¸«
        </a>
      </div>
    {% endif %}

    <!-- å°‡æŒ‰éˆ•æ”¹æˆã€Œé—œé–‰è¦–çª—ã€ -->
    <div class="modal-footer">
      <button class="btn-back" onclick="window.close()">é—œé–‰è¦–çª—</button>
    </div>

  </div>
</div>

</body>
</html>